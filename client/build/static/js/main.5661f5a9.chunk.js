(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(66)},66:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchUser",function(){return j}),n.d(r,"handleToken",function(){return y});var a=n(0),c=n.n(a),u=n(26),i=n.n(u),s=n(14),o=n(7),l=n(8),p=n(10),d=n(9),m=n(11),f=n(6),h=n(13),b=n.n(h),E=n(19),v=n(15),O=n.n(v),j=function(){return function(){var e=Object(E.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/current_user");case 2:if(200===(n=e.sent).status){e.next=7;break}return e.next=6,O.a.get("/api/current_user");case 6:n=e.sent;case 7:t({type:"FETCH_USER",user:{name:n.data.name,credits:n.data.credits,picture:n.data.picture}});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(E.a)(b.a.mark(function t(n){var r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post("/api/stripe",e);case 2:r=t.sent,n({type:"FETCH_USER",user:{name:r.data.name,credits:r.data.credits,picture:r.data.picture}});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},k=n(68),g=n(69),w=n(29),x=n.n(w),C=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(x.a,{name:"SurWay",description:"$5 for 5 credits",amount:500,token:function(t){return e.props.handleToken(t)},stripeKey:"pk_test_Nfn3yLsmuboOHAwZNh3MBhbH"},c.a.createElement("button",{className:"btn"},"Buy credits"))}}]),t}(a.Component),N=Object(f.b)(null,r)(C),_=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderContent",value:function(){switch(this.props.user){case void 0:return c.a.createElement("li",null,c.a.createElement("a",{href:"/auth/google"},"Login"));default:return[c.a.createElement("li",{key:"stripe"},c.a.createElement(N,null)),c.a.createElement("li",{key:"credits"},"\xa0Credits: ",this.props.user.credits,"\xa0"),c.a.createElement("li",{key:"user"},this.props.user.name),c.a.createElement("li",{key:"google"},c.a.createElement("a",{href:"/api/logout"},"Logout"))]}}},{key:"render",value:function(){return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("a",{href:"/",className:"brand-logo left"},"Logo"),c.a.createElement("ul",{id:"nav-mobile",className:"right"},this.renderContent())))}}]),t}(a.Component),H=Object(f.b)(function(e){return Object(s.a)({},e)},r)(_),L=function(){return c.a.createElement("div",null,"LANDING")},S=function(){return c.a.createElement("div",null,"DASHBOARD")},T=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(H,null),c.a.createElement(k.a,null,c.a.createElement("div",null,c.a.createElement(g.a,{path:"/",exact:!0,component:L}),c.a.createElement(g.a,{path:"/dashboard",exact:!0,component:S}))))}}]),t}(a.Component),U=Object(f.b)(function(e){return Object(s.a)({},e)},r)(T),A=n(12),B=n(31),D={user:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return{user:t.user};default:return e}},F=(n(64),Object(A.c)(R,{user:!1},Object(A.a)(B.a)));i.a.render(c.a.createElement(f.a,{store:F},c.a.createElement(U,null)),document.getElementById("root"))}},[[32,2,1]]]);
//# sourceMappingURL=main.5661f5a9.chunk.js.map