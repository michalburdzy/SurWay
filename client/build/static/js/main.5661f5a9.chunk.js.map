{"version":3,"sources":["actions/index.js","components/Stripe.js","components/Navbar.js","components/App.js","reducers/index.js","index.js"],"names":["fetchUser","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","axios","get","sent","status","type","user","name","data","credits","picture","stop","this","_x","apply","arguments","handleToken","token","_ref2","_callee2","_context2","post","_x2","Stripe","_this","react_default","createElement","main_default","description","amount","props","stripeKey","process","className","Component","connect","actions","Navbar","undefined","href","key","components_Stripe","id","renderContent","state","objectSpread","Landing","Dashboard","App","components_Navbar","BrowserRouter","Route","path","exact","component","initialState","reducer","length","action","store","createStore","applyMiddleware","reduxThunk","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.5661f5a9.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const fetchUser = () => async dispatch => {\n  let res = await axios.get('/api/current_user');\n  if (res.status !== 200) {\n    res = await axios.get('/api/current_user');\n  }\n  dispatch({\n    type: 'FETCH_USER',\n    user: {\n      name: res.data.name,\n      credits: res.data.credits,\n      picture: res.data.picture,\n    },\n  });\n};\n\nexport const handleToken = token => async dispatch => {\n  const res = await axios.post('/api/stripe', token);\n  dispatch({\n    type: 'FETCH_USER',\n    user: {\n      name: res.data.name,\n      credits: res.data.credits,\n      picture: res.data.picture,\n    },\n  });\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport StripeCheckout from 'react-stripe-checkout';\nimport * as actions from '../actions';\nclass Stripe extends Component {\n  render() {\n    return (\n      <StripeCheckout\n        name=\"SurWay\"\n        description=\"$5 for 5 credits\"\n        amount={500}\n        token={token => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n        <button className=\"btn\">Buy credits</button>\n      </StripeCheckout>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  actions,\n)(Stripe);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport Stripe from './Stripe';\n\nclass Navbar extends Component {\n  renderContent() {\n    switch (this.props.user) {\n      case false || undefined:\n        return (\n          <li>\n            <a href=\"/auth/google\">Login</a>\n          </li>\n        );\n      default:\n        return [\n          <li key=\"stripe\">\n            <Stripe />\n          </li>,\n          <li key=\"credits\">&nbsp;Credits: {this.props.user.credits}&nbsp;</li>,\n          <li key=\"user\">{this.props.user.name}</li>,\n          <li key=\"google\">\n            <a href=\"/api/logout\">Logout</a>\n          </li>,\n        ];\n    }\n  }\n  render() {\n    return (\n      <nav>\n        <div className=\"nav-wrapper\">\n          <a href=\"/\" className=\"brand-logo left\">\n            Logo\n          </a>\n          <ul id=\"nav-mobile\" className=\"right\">\n            {this.renderContent()}\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { ...state };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions,\n)(Navbar);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Navbar from './Navbar';\n\nconst Landing = () => <div>LANDING</div>;\nconst Dashboard = () => <div>DASHBOARD</div>;\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchUser();\n  }\n  render() {\n    return (\n      <div>\n        <Navbar />\n        <BrowserRouter>\n          <div>\n            <Route path=\"/\" exact component={Landing} />\n            <Route path=\"/dashboard\" exact component={Dashboard} />\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { ...state };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions,\n)(App);\n","const initialState = { user: false };\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'FETCH_USER':\n      const { user } = action;\n      return { user };\n    default:\n      return state;\n  }\n};\nexport default reducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport reducer from './reducers';\nimport '../node_modules/materialize-css/dist/css/materialize.min.css';\n\nconst store = createStore(\n  reducer,\n  { user: false },\n  applyMiddleware(reduxThunk),\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}